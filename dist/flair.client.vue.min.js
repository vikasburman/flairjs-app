/**
 * @preserve
 * Flair.js Fabric
 * Foundation for True Object Oriented JavaScript Apps
 * 
 * Assembly: flair.client.vue
 *     File: ./flair.client.vue.js
 *  Version: 0.56.18
 *  Mon, 02 Sep 2019 00:10:45 GMT
 * 
 * (c) 2017-2019 Vikas Burman
 * MIT
 */
!function(t,e){"use strict";"function"==typeof!0&&(!0).amd?(!0)(()=>e):"object"==typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),module.exports=exports=e):t["flair.client.vue"]=e}(this,async function(t,e){"use strict";const{Class:i,Struct:a,Enum:s,Interface:n,Mixin:r,Aspects:o,AppDomain:l,$$:h,attr:c,bring:p,Container:d,include:y,Port:u,on:m,post:f,telemetry:w,Reflector:$,Serializer:v,Tasks:g,as:b,is:A,isDefined:x,isComplies:V,isDerivedFrom:O,isAbstract:F,isSealed:P,isStatic:D,isSingleton:S,isDeprecated:C,isImplements:M,isInstanceOf:T,isMixed:j,getAssembly:I,getAttr:N,getContext:E,getResource:B,getRoute:L,getType:k,ns:W,getTypeOf:z,getTypeName:H,typeOf:R,dispose:J,using:U,Args:_,Exception:G,noop:q,nip:K,nim:Q,nie:X,event:Y}=t,{TaskInfo:Z}=t.Tasks,{env:tt}=t.options,{guid:et,stuff:it,replaceAll:at,splitAndTrim:st,findIndexByProp:nt,findItemByProp:rt,which:ot,isArrowFunc:lt,isASyncFunc:ht,sieve:ct,deepMerge:pt,getLoadedScript:dt,b64EncodeUnicode:yt,b64DecodeUnicode:ut,lens:mt,globalSetting:ft}=t.utils,{$$static:wt,$$abstract:$t,$$virtual:vt,$$override:gt,$$sealed:bt,$$private:At,$$privateSet:xt,$$protected:Vt,$$protectedSet:Ot,$$readonly:Ft,$$async:Pt,$$overload:Dt,$$enumerate:St,$$dispose:Ct,$$post:Mt,$$on:Tt,$$timer:jt,$$type:It,$$args:Nt,$$inject:Et,$$resource:Bt,$$asset:Lt,$$singleton:kt,$$serialize:Wt,$$deprecate:zt,$$session:Ht,$$state:Rt,$$conditional:Jt,$$noserialize:Ut,$$ns:_t}=h,Gt=tt.isServer||tt.isWorker?null:(!0).document,qt=l.context.current().name,Kt=e,Qt=Kt.substr(0,Kt.lastIndexOf("/")+1);l.loadPathOf("flair.client.vue",Qt);let Xt=JSON.parse('{"vue":{"extensions":[]},"layout":{"default":"","viewAreaEl":"view"},"static":{"layout":"","i18n":""},"showdown":{}}'),Yt=t.Port("settingsReader");if("function"==typeof Yt){let t=Yt("flair.client.vue");t&&(Xt=pt([Xt,t],!1))}Xt=Object.freeze(Xt);let Zt=JSON.parse("{}");return Zt=Object.freeze(Zt),l.context.current().currentAssemblyBeingLoaded("./flair.client.vue{.min}.js"),await(async()=>{h("ns","flair.ui"),r("VueComponentMembers",function(){var t=this,e=et();h("private"),this.define=(async()=>{const i=await y("vue/vue{.min}.js"),{ViewHandler:a,ViewState:s,VueFilter:n,VueMixin:r,VueDirective:o,VueComponent:l}=await W("flair.ui");let h=new s,c={},p=u("clientFile");const d=async()=>{if(!this.baseName){let t=this.$Type.getName(),e=t.substr(t.lastIndexOf(".")+1);this.baseName=e}this.basePath||(this.basePath=this.$Type.getAssembly().assetsPath()),this.localePath||(this.localePath=this.$Type.getAssembly().localesPath())},m=async()=>{"boolean"==typeof this.style&&!0===this.style&&(this.style=ot(`./${this.baseName}/index{.min}.css`,!0)),"boolean"==typeof this.html&&!0===this.html&&(this.html=ot(`./${this.baseName}/index{.min}.html`,!0)),"boolean"==typeof this.data&&!0===this.data&&(this.data=ot(`./${this.baseName}/index{.min}.json`,!0))},f=async()=>{"string"==typeof this.style&&this.style.endsWith(".css")&&(this.style=this.style.replace("./",this.basePath),this.style=await p(this.style)),this.style&&(this.style=at(this.style,"#SCOPE_ID",`#${e}`),a.addStyle(e,this.style))},w=async()=>{"string"==typeof this.html&&this.html.endsWith(".html")&&(this.html=this.html.replace("./",this.basePath),this.html=await p(this.html)),this.html=`<div id="${e}">${this.html}</div>`},$=async()=>{"string"==typeof this.data&&this.data.endsWith(".json")&&(this.data=this.data.replace("./",this.basePath),this.data=await p(this.data))},v=async()=>{if(this.i18n){let t="";if("string"==typeof this.i18n){let t=this.i18n.split(",");this.i18n={};for(let e of t)this.i18n[e.trim()]=!1}for(let e in this.i18n)this.i18n.hasOwnProperty(e)&&(t=this.localePath+this.locale()+"/"+(this.i18n[e]||`./${e}.json`),this.i18n[e]=await p(t))}},g=async()=>{if(this.state&&Array.isArray(this.state))for(let t of this.state){if(c.computed[t.name])throw G.InvalidDefinition(`Computed (state) property already defined. (${t.name})`);c.computed=c.computed||{},c.computed[t.name]={get:function(){return h.get(t.path,t.name)||t.value},set:function(e){h.set(t.path,t.name,e)}}}},A=async()=>{c.methods=c.methods||{},c.methods["path"]=((e,i)=>t.path(e,i)),c.methods["route"]=((e,i)=>t.route(e,i)),c.methods["stuff"]=((t,...e)=>it(t,e)),this.i18n&&(c.methods["locale"]=(e=>t.locale(e)),c.methods["i18n"]=(e=>t.i18nValue(e)))},x=async()=>{this.render&&"function"==typeof this.render&&(c.render=this.render)},V=async()=>{"boolean"==typeof this.functional&&(c.functional=this.functional)},O=async()=>{if(this.computed)for(let t in this.computed)if(this.computed.hasOwnProperty(t)){if(c.computed[t])throw G.InvalidDefinition(`Computed member already defined. (${t})`);c.computed=c.computed||{},c.computed[t]=this.computed[t]}},F=async()=>{if(this.methods)for(let t in this.methods)if(this.methods.hasOwnProperty(t)){if(c.methods[t])throw G.InvalidDefinition(`Method already defined. (${t})`);c.methods=c.methods||{},c.methods[t]=this.methods[t]}},P=async()=>{if(this.watch)for(let t in this.watch)if(this.watch.hasOwnProperty(t)){if(c.watch[t])throw G.InvalidDefinition(`Watch member already defined. (${t})`);c.watch=c.watch||{},c.watch[t]=this.watch[t]}},D=async()=>{if(this.lifecycle)for(let t in this.lifecycle)if(this.lifecycle.hasOwnProperty(t)){if(c[t])throw G.InvalidDefinition(`Lifecycle hook already defined. (${t})`);c[t]=this.lifecycle[t]}},S=async()=>{if(this.components&&Array.isArray(this.components)){let t=null,e=null;for(let a of this.components){if(!a.name)throw G.OperationFailed(`Component name cannot be empty. (${a.type})`);if(!a.type)throw G.OperationFailed(`Component type cannot be empty. (${a.name})`);if(i.options.components[a.name])throw G.Duplicate(`Component already registered. (${a.name})`);if(!(t=b(await y(a.type),l)))throw G.InvalidArgument(a.type);try{if(e=new t,c.components&&c.components[a.name])throw G.Duplicate(`Component already registered. (${a.name})`);c.components=c.components||{},c.components[a.name]=await e.factory()}catch(t){throw G.OperationFailed(`Component registration failed. (${a.type})`,t)}}}},C=async()=>{if(this.mixins&&Array.isArray(this.mixins)){let t=null,e=null;for(let i of this.mixins){if(!i.name)throw G.OperationFailed(`Mixin name cannot be empty. (${i.type})`);if(!i.type)throw G.OperationFailed(`Mixin type cannot be empty. (${i.name})`);if(!(t=b(await y(i.type),r)))throw G.InvalidArgument(i.type);try{if(e=new t,c.mixins&&c.mixins[i.name])throw G.Duplicate(`Mixin already registered. (${i.name})`);c.mixins=c.mixins||{},c.mixins[i.name]=await e.factory()}catch(t){throw G.OperationFailed(`Mixin registration failed. (${i.type})`,t)}}}},M=async()=>{if(this.directives&&Array.isArray(this.directives)){let t=null,e=null;for(let i of this.directives){if(!i.name)throw G.OperationFailed(`Directive name cannot be empty. (${i.type})`);if(!i.type)throw G.OperationFailed(`Directive type cannot be empty. (${i.name})`);if(!(t=b(await y(i.type),o)))throw G.InvalidArgument(i.type);try{if(e=new t,c.directives&&c.directives[i.name])throw G.Duplicate(`Directive already registered. (${i.name})`);c.directives=c.directives||{},c.directives[i.name]=await e.factory()}catch(t){throw G.OperationFailed(`Directive registration failed. (${i.type})`,t)}}}},T=async()=>{if(this.filters&&Array.isArray(this.filters)){let t=null,e=null;for(let i of this.filters){if(!i.name)throw G.OperationFailed(`Filter name cannot be empty. (${i.type})`);if(!i.type)throw G.OperationFailed(`Filter type cannot be empty. (${i.name})`);if(!(t=b(await y(i.type),n)))throw G.InvalidArgument(i.type);try{if(e=new t,c.filters&&c.filters[i.name])throw G.Duplicate(`Filter already registered. (${i.name})`);c.filters=c.filters||{},c.filters[i.name]=await e.factory()}catch(t){throw G.OperationFailed(`Filter registration failed. (${i.type})`,t)}}}},j=async()=>{this.provide&&Array.isArray(this.provide)&&(c.provide=this.provide),this.inject&&Array.isArray(this.inject)&&(c.inject=this.inject)};return await d(),await m(),await f(),await w(),await $(),await v(),await g(),await A(),await x(),await V(),await O(),await F(),await P(),await D(),await S(),await C(),await M(),await T(),await j(),c}),h("readonly"),this.id=e,h("protected"),this.baseName="",h("protected"),this.basePath="",h("protected"),this.localePath="",h("protected"),this.locale=(t=>l.host().locale(t)),h("protected"),this.path=((t,e)=>l.host().pathToUrl(t,e)),h("protected"),this.route=((t,e)=>l.host().routeToUrl(t,e)),h("protected"),this.i18n=null,h("protected"),this.i18nValue=(t=>{let e=t||"",i=tt.isDebug?":":"";if(t&&t.startsWith("@")){let a=(t=t.substr(1)).split("|");t=a[0].trim(),e=a[1].trim()||"",this.i18n&&(e=mt(this.i18n,t)||i+e+i)}return e||"(i18n: 404)"}),h("protected"),this.style=null,h("protected"),this.html=null,h("protected"),this.data=null,h("protected"),this.template=null,h("protected"),this.render=null,h("protected"),this.functional=!1,h("protected"),this.computed=null,h("protected"),this.state=null,h("protected"),this.methods=null,h("protected"),this.watch=null,h("protected"),this.lifecycle=null,h("protected"),this.components=null,h("protected"),this.mixins=null,h("protected"),this.directives=null,h("protected"),this.filters=null,h("protected"),this.provide=null,h("protected"),this.inject=null})})(),await(async()=>{const{ViewHandler:t}=await W("flair.ui"),{VueComponentMembers:e}=await W("flair.ui");h("ns","flair.ui"),i("VueView",t,[e],function(){h("private"),this.factory=(async()=>{let t=null;const e=async()=>{if("boolean"==typeof this.layout&&!0===this.layout&&(this.layout=Xt.layout.default||null),"string"==typeof this.layout){let t=await y(this.layout);if(!t)throw G.NotFound(`Layout not found. (${this.layout})`);this.layout=new t}if(this.layout&&this.layout.areas&&Array.isArray(this.layout.areas)){this.components=this.components||[];for(let t of this.layout.areas)this.components.push({name:t.component,type:t.type})}},i=async()=>{t=await this.define()},a=async()=>{this.title=this.i18nValue(this.title)},s=async()=>{t.el="#"+this.name},n=async()=>{this.propsData&&(t.propsData=this.propsData)},r=async()=>{this.data&&("function"==typeof this.data?t.data=this.data():t.data=this.data)};return await e(),await i(),await a(),await s(),await n(),await r(),t}),h("protected"),h("override"),h("sealed"),this.onView=(async(t,e,i)=>{t();const a=await y("vue/vue{.min}.js");let s=await this.factory(),n=this.html||"";this.layout?i.innerHTML=await this.layout.merge(n):i.innerHTML=n,new a(s)}),h("protected"),this.el=null,h("protected"),this.propsData=null,h("protected"),this.layout=null})})(),await(async()=>{const{VueView:t}=await W("flair.ui");h("ns","flair.ui"),i("StaticView",t,function(){h("override"),this.construct=((t,e)=>{t(e),this.isStatic&&(this.layout=Xt.layout.static||null,this.basePath=this.staticRoot,this.localePath=this.basePath+"locales/")}),h("protected"),h("override"),this.loadStaticFile=(async(t,e)=>{t(e);let i=u("clientFile"),a="",s=null,n=null,r=null,o=null,l="",h=null,c=null,p=new DOMParser;if(a=await i(this.staticFile),r=(n=(s=p.parseFromString(a,"text/xml")).getElementsByTagName("static")[0]).getElementsByTagName("html")[0],h=n.getElementsByTagName("style")[0],c=n.getElementsByTagName("data")[0],this.title=n.getAttribute("title")||"",this.layout=n.getAttribute("layout")||Xt.static.layout||null,this.i18n=n.getAttribute("i18n")||Xt.static.i18n||null,this.style=h?h.firstChild.data.trim():null,this.data=c?JSON.parse(c.firstChild.data.trim()):null,o=r&&r.getAttribute("type")||"",l=r?r.firstChild.data.trim():"","md"===o){const t=await y("showdown/showdown{.min}.js");let e=new t.Converter(Xt.showdown);this.html=e.makeHtml(l)}else this.html=l})})})(),await(async()=>{const{VueComponentMembers:t}=await W("flair.ui");h("ns","flair.ui"),i("VueComponent",[t],function(){let t=this;this.factory=(async()=>{let e=await this.define();const i=async()=>{this.html&&(e.template=this.html.trim())},a=async()=>{this.props&&Array.isArray(this.props)&&(e.props=this.props)},s=async()=>{this.data&&("function"==typeof this.data?e.data=function(){return t.data()}:e.data=function(){return t.data})},n=async()=>{this.name&&(e.name=this.name)},r=async()=>{this.model&&(e.model=this.model)},o=async()=>{"boolean"==typeof this.inheritAttrs&&(e.inheritAttrs=this.inheritAttrs)};return await i(),await a(),await s(),await n(),await r(),await o(),e}),h("protectedSet"),this.name="",h("protected"),this.props=null,h("protected"),this.model=null,h("protected"),this.inheritAttrs=null})})(),await(async()=>{h("ns","flair.ui"),i("VueDirective",function(){h("virtual"),h("async"),this.factory=q})})(),await(async()=>{h("ns","flair.ui"),i("VueFilter",function(){h("virtual"),h("async"),this.factory=q})})(),await(async()=>{const{ViewHandler:t}=await W("flair.ui");h("ns","flair.ui"),i("VueLayout",function(){let e=et();h("virtual"),this.construct=(()=>{this.viewArea=Xt.layout.viewAreaEl||"view"}),this.merge=(async i=>{let a="",s=u("clientFile");const n=async()=>{if(!this.baseName){let t=this.$Type.getName(),e=t.substr(t.lastIndexOf(".")+1);this.baseName=e}this.basePath||(this.basePath=this.$Type.getAssembly().assetsPath())},r=async()=>{"boolean"==typeof this.style&&!0===this.style&&(this.style=ot(`./${this.baseName}/index{.min}.css`,!0)),"boolean"==typeof this.html&&!0===this.html&&(this.html=ot(`./${this.baseName}/index{.min}.html`,!0))},o=async()=>{"string"==typeof this.style&&this.style.endsWith(".css")&&(this.style=this.style.replace("./",this.basePath),this.style=await s(this.style)),this.style&&(this.style=at(this.style,"#SCOPE_ID",`#${e}`),t.addStyle(e,this.style))},l=async()=>{"string"==typeof this.html&&this.html.endsWith(".html")&&(this.html=this.html.replace("./",this.basePath),this.html=await s(this.html)),this.html=`<div id="${e}">${this.html}</div>`},h=async()=>{if((a=this.html)&&this.areas&&Array.isArray(this.areas))for(let t of this.areas)a=at(a,`[[${t.area}]]`,`<component is="${t.component}"></component>`)},c=async()=>{a&&(a=a.replace(`[[${this.viewArea}]]`,i))};return await n(),await r(),await o(),await l(),await h(),await c(),a}),h("readonly"),this.id=e,h("protected"),this.baseName="",h("protected"),this.basePath="",h("protected"),this.html=null,h("protected"),this.style=null,h("protected"),h("readonly"),this.viewArea="",h("protectedSet"),this.areas=[]})})(),await(async()=>{h("ns","flair.ui"),i("VueMixin",function(){h("virtual"),h("async"),this.factory=q})})(),await(async()=>{h("ns","flair.ui"),i("VuePlugin",function(){h("virtual"),h("async"),this.factory=q})})(),await(async()=>{const{Bootware:t}=await W("flair.app");h("ns","flair.boot"),i("VueSetup",t,function(){h("override"),this.construct=(t=>{t("Vue Setup")}),h("override"),this.boot=(async t=>{t();const e=await y("vue/vue{.min}.js"),{VueComponent:i,VueDirective:a,VueFilter:s,VueMixin:n,VuePlugin:r}=await W("flair.ui");let o=Xt.vue.extensions,l=null,h=null;for(let t of o){if(!t.name)throw G.OperationFailed(`Extension name cannot be empty. (${t.type})`);if(!t.type)throw G.OperationFailed(`Extension type cannot be empty. (${t.name})`);if(l=await y(t.type),b(l,i))try{if(h=new l,e.options.components[t.name])throw G.Duplicate(`Component already registered. (${t.name})`);e.component(t.name,await h.factory())}catch(e){throw G.OperationFailed(`Component registration failed. (${t.type})`,e)}else if(b(l,a))try{h=new l,e.directive(t.name,await h.factory())}catch(e){throw G.OperationFailed(`Directive registration failed. (${t.type})`,e)}else if(b(l,s))try{h=new l,e.filter(t.name,await h.factory())}catch(e){throw G.OperationFailed(`Filter registration failed. (${t.type})`,e)}else if(b(l,n))try{h=new l,e.mixin(await h.factory())}catch(e){throw G.OperationFailed(`Mixin registration failed. (${t.type})`,e)}else{if(!b(l,r))throw G.InvalidArgument(t.type);try{h=new l(t.name),e.use(await h.factory(),t.options||{})}catch(e){throw G.OperationFailed(`Plugin registration failed. (${t.type})`,e)}}}})})})(),l.context.current().currentAssemblyBeingLoaded(),l.registerAdo('{"name":"flair.client.vue","file":"./flair.client.vue{.min}.js","package":"flairjs-fabric","desc":"Foundation for True Object Oriented JavaScript Apps","title":"Flair.js Fabric","version":"0.56.18","lupdate":"Mon, 02 Sep 2019 00:10:45 GMT","builder":{"name":"flairBuild","version":"1","format":"fasm","formatVersion":"1","contains":["init","func","type","vars","reso","asst","rout","sreg"]},"copyright":"(c) 2017-2019 Vikas Burman","license":"MIT","types":["flair.ui.VueComponentMembers","flair.ui.VueView","flair.ui.StaticView","flair.ui.VueComponent","flair.ui.VueDirective","flair.ui.VueFilter","flair.ui.VueLayout","flair.ui.VueMixin","flair.ui.VuePlugin","flair.boot.VueSetup"],"resources":[],"assets":[],"routes":[]}'),"function"==typeof onLoadComplete&&onLoadComplete(),Object.freeze({name:"flair.client.vue",settings:Xt,config:Zt})});