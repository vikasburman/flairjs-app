/**
 * @preserve
 * Flair.js Fabric
 * Foundation for True Object Oriented JavaScript Apps
 * 
 * Assembly: flair.client.vue
 *     File: ./flair.client.vue.js
 *  Version: 0.59.39
 *  Sat, 21 Sep 2019 05:45:11 GMT
 * 
 * (c) 2017-2019 Vikas Burman
 * MIT
 */
!function(t,e){"use strict";"function"==typeof!0&&(!0).amd?(!0)(()=>e):"object"==typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),module.exports=exports=e):t["flair.client.vue"]=e}(this,async function(t,e){"use strict";const{Class:i,Struct:s,Enum:a,Interface:n,Mixin:r,Aspects:o,AppDomain:l,$$:h,attr:c,bring:u,Container:p,include:f,Port:d,on:m,post:y,telemetry:w,Reflector:v,Serializer:b,Tasks:g,as:A,is:x,isDefined:V,isComplies:O,isDerivedFrom:$,isAbstract:C,isSealed:S,isStatic:D,isSingleton:M,isDeprecated:F,isImplements:P,isInstanceOf:j,isMixed:T,getAssembly:I,getAttr:L,getContext:N,getResource:k,getRoute:B,getType:E,ns:H,getTypeOf:R,getTypeName:W,typeOf:z,dispose:J,using:U,Args:q,Exception:G,noop:_,nip:K,nim:Q,nie:X,event:Y}=t,{TaskInfo:Z}=t.Tasks,{env:tt}=t.options,{guid:et,stuff:it,replaceAll:st,splitAndTrim:at,findIndexByProp:nt,findItemByProp:rt,which:ot,isArrowFunc:lt,isASyncFunc:ht,sieve:ct,deepMerge:ut,getLoadedScript:pt,b64EncodeUnicode:ft,b64DecodeUnicode:dt,lens:mt,globalSetting:yt}=t.utils,wt=tt.isServer||tt.isWorker?null:(!0).document,vt=l.context.current().name,bt=e,gt=bt.substr(0,bt.lastIndexOf("/")+1);l.loadPathOf("flair.client.vue",gt);let At=JSON.parse('{"vue":{"extensions":[]},"showdown":{}}'),xt=d("settingsReader");if("function"==typeof xt){let t=xt("flair.client.vue");t&&(At=ut([At,t],!1))}At=Object.freeze(At);let Vt=JSON.parse("{}");return Vt=Object.freeze(Vt),l.context.current().currentAssemblyBeingLoaded("./flair.client.vue{.min}.js"),await(async()=>{const{ViewState:t}=await H("flair.ui");h("ns","flair.ui"),r("VueComponentMembers",function(){var e=this,i=new t,s={};h("private"),this.define=(async(t,a)=>{const{VueFilter:n,VueMixin:r,VueDirective:o,VueComponent:l}=await H("flair.ui"),h=await f("vue/vue{.min}.js"),c=async()=>{if(this.state&&Array.isArray(this.state))for(let t of this.state){if(s.computed[t.name])throw G.InvalidDefinition(`Computed (state) property already defined. (${t.name})`);s.computed=s.computed||{},s.computed[t.name]={get:function(){return i.get(t.path,t.name)||t.value},set:function(e){i.set(t.path,t.name,e)}}}},u=async()=>{s.methods=s.methods||{},s.methods["path"]=((t,i)=>e.path(t,i)),s.methods["route"]=((t,i)=>e.route(t,i)),s.methods["stuff"]=((t,...e)=>it(t,e)),this.i18n&&(s.methods["locale"]=(t=>e.locale(t)),s.methods["i18n"]=(t=>e.i18nValue(t))),s.methods["version"]=(t=>e.version(t)),s.methods["ctx"]=((e,i)=>t&&t[e]||i)},p=async()=>{let e=this.getComponents(a),i=null,n=null,r=null,o=!1;for(let s of e)h.options.components[s.name]||this.components[s.name]||(i=a.querySelector(`[id="${s.id}"]`))&&(n=A(await f(s.type),l))&&(r=new n)&&(this.components[s.name]=r.view(this.inViewName,t,i,s.params),i.innerHTML=`<component is="${s.name}"></component>`,o=!0);o&&(s.components=this.components)},d=async()=>{if(this.mixins&&Array.isArray(this.mixins)){let t=null,e=null;for(let i of this.mixins)s.mixins&&s.mixins[i.name]||(e=new(t=A(await f(i.type),r)),s.mixins=s.mixins||{},s.mixins[i.name]=await e.factory())}},m=async()=>{if(this.directives&&Array.isArray(this.directives)){let t=null,e=null;for(let i of this.directives)s.directives&&s.directives[i.name]||(e=new(t=A(await f(i.type),o)),s.directives=s.directives||{},s.directives[i.name]=await e.factory())}},y=async()=>{if(this.filters&&Array.isArray(this.filters)){let t=null,e=null;for(let i of this.filters)s.filters&&s.filters[i.name]||(e=new(t=A(await f(i.type),n)),s.filters=s.filters||{},s.filters[i.name]=await e.factory())}},w=async()=>{if(this.render&&"function"==typeof this.render&&(s.render=this.render),"boolean"==typeof this.functional&&(s.functional=this.functional),this.computed)for(let t in this.computed)if(this.computed.hasOwnProperty(t)){if(s.computed[t])throw G.InvalidDefinition(`Computed member already defined. (${t})`);s.computed=s.computed||{},s.computed[t]=this.computed[t]}if(this.methods)for(let t in this.methods)if(this.methods.hasOwnProperty(t)){if(s.methods[t])throw G.InvalidDefinition(`Method already defined. (${t})`);s.methods=s.methods||{},s.methods[t]=this.methods[t]}if(this.watch)for(let t in this.watch)if(this.watch.hasOwnProperty(t)){if(s.watch[t])throw G.InvalidDefinition(`Watch member already defined. (${t})`);s.watch=s.watch||{},s.watch[t]=this.watch[t]}if(this.lifecycle)for(let t in this.lifecycle)if(this.lifecycle.hasOwnProperty(t)){if(s[t])throw G.InvalidDefinition(`Lifecycle hook already defined. (${t})`);s[t]=this.lifecycle[t]}this.provide&&Array.isArray(this.provide)&&(s.provide=this.provide),this.inject&&Array.isArray(this.inject)&&(s.inject=this.inject)};return await c(),await u(),await p(),await d(),await m(),await y(),await w(),s}),h("protected"),this.state=null,h("protected"),this.template=null,h("protected"),this.render=null,h("protected"),this.functional=!1,h("protected"),this.computed=null,h("protected"),this.methods=null,h("protected"),this.watch=null,h("protected"),this.lifecycle=null,h("protected"),this.mixins=null,h("protected"),this.directives=null,h("protected"),this.filters=null,h("protected"),this.provide=null,h("protected"),this.inject=null})})(),await(async()=>{const{View:t,VueComponentMembers:e}=await H("flair.ui"),s=await f("vue/vue{.min}.js");h("ns","flair.ui"),i("VueView",t,[e],function(){h("private"),this.factory=(async(t,e)=>{let i=null;return(i=await this.define(t,e)).el="#"+this.name,this.propsData&&(i.propsData=this.propsData),this.data&&("function"==typeof this.data?i.data=this.data():i.data=this.data),i}),h("protected"),h("override"),h("sealed"),this.onLoad=(async(t,e,i)=>{i.innerHTML=this.html;let a=await this.factory(e,i);this.html=i.innerHTML,new s(a)}),h("protected"),this.propsData=null})})(),await(async()=>{const{ViewComponent:t,VueComponentMembers:e}=await H("flair.ui");h("ns","flair.ui"),i("VueComponent",t,[e],function(){let t=this;h("private"),this.factory=(async(e,i)=>{let s=null;return s=await this.define(e,i),this.html&&(s.template=this.html.trim()),this.props&&Array.isArray(this.props)&&(s.props=this.props),this.data&&("function"==typeof this.data?s.data=function(){return t.data()}:s.data=function(){return t.data}),this.name&&(s.name=this.name),this.model&&(s.model=this.model),"boolean"==typeof this.inheritAttrs&&(s.inheritAttrs=this.inheritAttrs),s}),h("protected"),h("override"),h("sealed"),this.onLoad=(async(t,e,i)=>{i.innerHTML=this.html;let s=await this.factory(e,i);this.html=i.innerHTML,this.viewComponentObject=s}),h("protected"),this.props=null,h("protected"),this.model=null,h("protected"),this.inheritAttrs=null})})(),await(async()=>{h("ns","flair.ui"),i("VueDirective",function(){h("virtual"),h("async"),this.factory=_})})(),await(async()=>{h("ns","flair.ui"),i("VueFilter",function(){h("virtual"),h("async"),this.factory=_})})(),await(async()=>{const{ViewHandler:t}=await H("flair.ui");h("ns","flair.ui"),i("VueLayout",function(){let e=et();h("virtual"),this.construct=(t=>{if(t){let e=0,i=!1,s=t.length;for(;1&&!(e>=s);){let a=t.indexOf("[[",e);if(-1===a)break;let n=t.indexOf("]]",a);if(-1===n&&a+1<s){t="[[view]]",this.viewArea="view";break}e=n+1;let r,o=t.substr(a+2,n-a-2).split(":");1===o.length?i||(i=!0,this.viewArea=o[0].trim()):3===o.length&&(this.areas.push({area:o[0].trim(),component:o[1].trim(),type:o[2].trim()}),t=t.substr(0,a+2)+o[0].trim()+t.substr(n))}this.html=t}else this.viewArea=At.layout.viewAreaEl||"view"}),this.merge=(async i=>{let s="",a=d("clientFile");const n=async()=>{if(!this.baseName){let t=this.$Type.getName(),e=t.substr(t.lastIndexOf(".")+1);this.baseName=e}this.basePath||(this.basePath=this.$Type.getAssembly().assetsPath())},r=async()=>{const t=t=>{if("string"==typeof t&&t.startsWith("res:")){let e=t.substr(4),i=l.context.current().getResource(e)||null;return i?i.data:t}return t};"boolean"==typeof this.style&&!0===this.style?this.style=ot(`./${this.baseName}/index{.min}.css`,!0):this.style=t(this.style),"boolean"==typeof this.html&&!0===this.html?this.html=ot(`./${this.baseName}/index{.min}.html`,!0):this.html=t(this.html)},o=async()=>{"string"==typeof this.style&&this.style.endsWith(".css")&&(this.style=this.style.replace("./",this.basePath),this.style=await a(this.style)),this.style&&(this.style=st(this.style,"#SCOPE_ID",`#${e}`),t.addStyle(e,this.style))},h=async()=>{"string"==typeof this.html&&this.html.endsWith(".html")&&(this.html=this.html.replace("./",this.basePath),this.html=await a(this.html)),this.html=`<div id="${e}">${this.html}</div>`};if(this.layout&&this.layout.areas&&Array.isArray(this.layout.areas)){this.components=this.components||[];for(let t of this.layout.areas)this.components.push({name:t.component,type:t.type})}const c=async()=>{if((s=this.html)&&this.areas&&Array.isArray(this.areas))for(let t of this.areas)s=st(s,`[[${t.area}]]`,`<component is="${t.component}"></component>`)},u=async()=>{s&&(s=s.replace(`[[${this.viewArea}]]`,i))};return await n(),await r(),await o(),await h(),await c(),await u(),s}),h("readonly"),this.id=e,h("protected"),this.baseName="",h("protected"),this.basePath="",h("protected"),this.html=null,h("protected"),this.style=null,h("protected"),h("readonly"),this.viewArea="",h("protectedSet"),this.areas=[]})})(),await(async()=>{h("ns","flair.ui"),i("VueMixin",function(){h("virtual"),h("async"),this.factory=_})})(),await(async()=>{h("ns","flair.ui"),i("VuePlugin",function(){h("virtual"),h("async"),this.factory=_})})(),await(async()=>{const{Bootware:t}=await H("flair.app"),{VueComponent:e,VueDirective:s,VueFilter:a,VueMixin:n,VuePlugin:r}=await H("flair.ui"),o=await f("vue/vue{.min}.js");h("ns","flair.boot"),i("VueSetup",t,function(){h("override"),this.construct=(t=>{t("Vue Setup")}),h("override"),this.boot=(async t=>{t();let i=At.vue.extensions,l=null,h=null;for(let t of i){if(!t.name)throw G.OperationFailed(`Extension name cannot be empty. (${t.type})`);if(!t.type)throw G.OperationFailed(`Extension type cannot be empty. (${t.name})`);if(l=await f(t.type),A(l,e))try{if(h=new l,o.options.components[t.name])throw G.Duplicate(`Component already registered. (${t.name})`);o.component(t.name,await h.view("",null,null,t.options))}catch(e){throw G.OperationFailed(`Component registration failed. (${t.type})`,e)}else if(A(l,s))try{h=new l,o.directive(t.name,await h.factory())}catch(e){throw G.OperationFailed(`Directive registration failed. (${t.type})`,e)}else if(A(l,a))try{h=new l,o.filter(t.name,await h.factory())}catch(e){throw G.OperationFailed(`Filter registration failed. (${t.type})`,e)}else if(A(l,n))try{h=new l,o.mixin(await h.factory())}catch(e){throw G.OperationFailed(`Mixin registration failed. (${t.type})`,e)}else{if(!A(l,r))throw G.InvalidArgument(t.type);try{h=new l(t.name),o.use(await h.factory(),t.options||{})}catch(e){throw G.OperationFailed(`Plugin registration failed. (${t.type})`,e)}}}})})})(),l.context.current().currentAssemblyBeingLoaded(),l.registerAdo('{"name":"flair.client.vue","file":"./flair.client.vue{.min}.js","package":"flairjs-fabric","desc":"Foundation for True Object Oriented JavaScript Apps","title":"Flair.js Fabric","version":"0.59.39","lupdate":"Sat, 21 Sep 2019 05:45:11 GMT","builder":{"name":"flairBuild","version":"1","format":"fasm","formatVersion":"1","contains":["init","func","type","vars","reso","asst","rout","sreg"]},"copyright":"(c) 2017-2019 Vikas Burman","license":"MIT","types":["flair.ui.VueComponentMembers","flair.ui.VueView","flair.ui.VueComponent","flair.ui.VueDirective","flair.ui.VueFilter","flair.ui.VueLayout","flair.ui.VueMixin","flair.ui.VuePlugin","flair.boot.VueSetup"],"resources":[],"assets":[],"routes":[]}'),"function"==typeof onLoadComplete&&onLoadComplete(),Object.freeze({name:"flair.client.vue",settings:At,config:Vt})});